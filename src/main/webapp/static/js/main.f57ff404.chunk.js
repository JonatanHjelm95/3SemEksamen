(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{375:function(e,t,n){e.exports=n(899)},380:function(e,t,n){},418:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=418},444:function(e,t){},446:function(e,t){},469:function(e,t){},470:function(e,t){},478:function(e,t){},480:function(e,t){},511:function(e,t){},512:function(e,t){},572:function(e,t){},899:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(370),c=n.n(o),l=(n(380),n(37)),s=n.n(l),i=n(68),u=n(25),m=n(26),h=n(32),p=n(31),d=n(33),f="http://localhost:8080/semproject";var g=new(function(){function e(){var t=this;Object(u.a)(this,e),this.login=function(){var e=Object(i.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{username:t,role:"admin"});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),this.realogin=function(){var e=Object(i.a)(s.a.mark(function e(n,a){var r,o,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.makeOptions("POST",!0,{username:n,password:a}),e.next=3,fetch(f+"/api/login",r);case 3:return o=e.sent,e.next=6,o.json();case 6:if(c=e.sent,o.ok){e.next=9;break}throw{status:o.status,fullError:c};case 9:return t.setToken(o.token),e.abrupt("return",c);case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),this.setToken=function(e){localStorage.setItem("jwtToken",e)},this.getToken=function(){return localStorage.getItem("jwtToken")},this.loggedIn=function(){return null!=t.getToken()},this.logout=function(){localStorage.removeItem("jwtToken")}}return Object(m.a)(e,[{key:"makeOptions",value:function(e,t,n){var a={method:e,headers:{"Content-type":"application/json",Accept:"application/json"}};return t&&this.loggedIn()&&(a.headers["x-access-token"]=this.getToken()),n&&(a.body=JSON.stringify(n)),a}},{key:"CheckIfUser",value:function(e){return fetch(f+"/api/Example/user").then(function(e){return e.json()}).then(function(t){e.unshift(t)})}},{key:"CheckIfAdmin",value:function(e){return fetch(f+"/api/Example/admin").then(function(e){return e.json()}).then(function(t){e.unshift(t)})}},{key:"TryGet",value:function(){return fetch(f+"/api/products/all").then(function(e){return e.json()})}}]),e}()),b=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Home"))},j=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"aboot"))},v=n(371),k=n.n(v),E=function(e){function t(e){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.obj.msg),r.a.createElement("td",null,this.props.obj.api))}}]),t}(r.a.Component),O=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).addMessage=function(e){var t=e.sender,n=e.text;return console.log("".concat(t," sends ").concat(n))},n.addRow=function(e){var t=e.sender,a=e.text;console.log("woo");var r={msg:a,api:t};console.log("woo");n.state.stream;var o=n.state.stream;o.unshift(r),n.setState({stream:o})},n.state={stream:[{msg:"velkommen",api:"Ingen"}]},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.socket=k.a.open("http://localhost:8080/semproject/cettia?token=log");var t=function(t){return e.addMessage({sender:"system",text:t})};this.socket.on("message",function(t){return function(t){return e.addRow(t)}(t)}),this.socket.on("connecting",function(){return t("The socket starts a connection.")}),this.socket.on("open",function(){return t("The socket establishes a connection.")}),this.socket.on("close",function(){return t("All transports failed to connect or the connection was disconnected.")}),this.socket.on("waiting",function(e){return t("The socket will reconnect after ".concat(e," ms"))}),this.socket.once("open",function(){return setInterval(function(){return e.socket.send("message",{text:"A message - ".concat(Date.now())})},5e3)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Dette er en liste der hele tiden modtager hvad det seneste kald til API'en er."),r.a.createElement("table",{className:"tg"},r.a.createElement("thead",null,r.a.createElement("th",null,"Besked"),r.a.createElement("th",null,"API kaldt")),this.state.stream.map(function(e){return r.a.createElement(E,{obj:e})})))}}]),t}(r.a.Component),w=(n(894),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={description:""},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"noHover"},r.a.createElement("img",{src:this.props.obj.imgurl,alt:"Billede ikke tilg\xe6ngeligt."}),r.a.createElement("h1",null,this.props.obj.title),r.a.createElement("a",{href:this.props.obj.url,target:"_blank"},"Link til Siden"))}}]),t}(r.a.Component)),y=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("table",{className:"tg"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Pris"),r.a.createElement("th",null,"Pris"),r.a.createElement("th",null,"side "),r.a.createElement("th",null,"placering "),r.a.createElement("th",null,"Sidste opdateret"))),r.a.createElement("tbody",null,this.props.reslist.map(function(e){return r.a.createElement(I,{obj:e})})))}}]),t}(r.a.Component),I=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).showrow=function(){var e=!n.state.clicked;n.setState({clicked:e})},n.state={clicked:!1},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:this.props.obj.productId,onClick:this.showrow},r.a.createElement("td",null,this.props.obj.title),r.a.createElement("td",null,this.props.obj.price),r.a.createElement("td",null,this.props.obj.origin),r.a.createElement("td",null,this.props.obj.location),r.a.createElement("td",null,this.props.obj.lastupdate)),this.state.clicked?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5"},r.a.createElement(w,{obj:this.props.obj}))):r.a.createElement(r.a.Fragment,null))}}]),t}(r.a.Component),S=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={reslist:[{productId:1,origin:"DBA",title:"no title",url:"https://www.dba.dk/samlekort-magic-the-gather/id-1061586087/",location:"8800 Viborg",price:"50 kr.",imgurl:"https://i.ebayimg.com/images/g/WSgAAOSwJeVd4OJd/s-l200.jpg",lastupdate:"29/11/2019 14:33:50"},{productId:2,origin:"DBA",title:"no title",url:"https://www.dba.dk/hanky-panky-tryllesaet/id-113677663/",location:"Coop.dk Shopping - Store besparelser",price:"170 kr.",imgurl:"https://i.ebayimg.com/images/g/3yYAAOSwOb9d3~k0/s-l200.jpg",lastupdate:"29/11/2019 14:33:50"}]},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"getDescription",value:function(){}},{key:"exampleAdd",value:function(e){e.preventDefault();this.state.reslist;var t=this.state.key,n=this.state.reslist,a=this.newItem.value;n.unshift({key:this.state.key,price:a,site:"ebay",postdate:"ligeNU!"}),this.setState({reslist:n,key:t+1})}},{key:"getAll",value:function(e){var t=this;e.preventDefault();this.state.reslist,this.state.reslist;g.TryGet().then(function(e){return t.setState({reslist:e})})}},{key:"somefunction",value:function(e){var t=this;e.preventDefault();this.state.msgs;var n=this.state.msgs,a=this.newItem.value;g.TryGet(a,n).then(function(e){return t.setState({msgs:n})})}},{key:"render",value:function(){var e=this;this.state.msgs;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){e.exampleAdd(t)}},r.a.createElement("label",null," Tilf\xf8j et item til listen"),r.a.createElement("input",{ref:function(t){return e.newItem=t},placeholder:"pris",id:"addButton"}),r.a.createElement("button",{type:"submit"}," add ")),r.a.createElement("button",{onClick:function(t){e.getAll(t)}},"Hent Producter fra vores API"),r.a.createElement(y,{reslist:this.state.reslist}))}}]),t}(r.a.Component),x=n(76),C=n(69),A=n(372),T=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).login=function(e){e.preventDefault(),n.props.login(n.state.username,n.state.password)},n.onChange=function(e){n.setState(Object(A.a)({},e.target.id,e.target.value))},n.state={username:"",role:""},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.login,onChange:this.onChange},r.a.createElement("input",{placeholder:"User Name",id:"username"}),r.a.createElement("input",{placeholder:"Password",id:"password"}),r.a.createElement("button",null,"Login")))}}]),t}(r.a.Component),D=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).logout=function(e){e.preventDefault(),n.props.logout()},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",{className:"header"},"logged in as: ",this.props.username,", role: ",this.props.role),r.a.createElement("button",{onClick:this.logout},"Logout"))}}]),t}(r.a.Component),N=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).Flogout=Object(i.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({loggedIn:!1});case 1:case"end":return e.stop()}},e)})),n.login=function(){var e=Object(i.a)(s.a.mark(function e(t,a){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.login(t,a);case 2:r=e.sent,n.setState({loggedIn:!0,username:r.username,role:r.role});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.state={username:"",role:"",loggedIn:!1},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.loggedIn?r.a.createElement(D,{username:this.state.username,role:this.state.username,logout:this.Flogout}):r.a.createElement(T,{login:this.login}))}}]),t}(r.a.Component),P=function(e){function t(e){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement("ul",{className:"header"},r.a.createElement("li",null,r.a.createElement(x.b,{to:"/",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(x.b,{to:"/about"},"About")),r.a.createElement("li",null,r.a.createElement(x.b,{to:"/contact"},"Live Log")),r.a.createElement("li",null,r.a.createElement(x.b,{to:"/ResultList"},"API test")),r.a.createElement("li",null,r.a.createElement(N,null))),r.a.createElement(C.c,null,r.a.createElement(C.a,{path:"/",exact:!0,component:b}),r.a.createElement(C.a,{path:"/About",component:j}),r.a.createElement(C.a,{path:"/Contact",component:O}),r.a.createElement(C.a,{path:"/resultList",component:S}))))}}]),t}(r.a.Component),L=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).logout=function(){g.logout(),n.setState({loggedIn:!1})},n.login=function(){var e=Object(i.a)(s.a.mark(function e(t,a){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.login(t,a);case 2:r=e.sent,n.setState({loggedIn:!0,username:t,role:r.role});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.state={loggedIn:!1,username:"",role:""},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[375,1,2]]]);
//# sourceMappingURL=main.f57ff404.chunk.js.map